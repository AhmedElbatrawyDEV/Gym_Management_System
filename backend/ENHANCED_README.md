# Enhanced Workout API - ูุธุงู ุฅุฏุงุฑุฉ ุงูุฌูู ุงูุดุงูู ุงููุญุฏุซ

## ุงูุชุญุฏูุซุงุช ุงูุฌุฏูุฏุฉ ๐

ุชู ุชุทููุฑ ุงููุธุงู ุงูุฃุตูู ููุตุจุญ ูุธุงู ุฅุฏุงุฑุฉ ุดุงูู ููุฌูู ูุน ุฅุถุงูุฉ ุงูููุฒุงุช ุงูุชุงููุฉ:

### ๐ ูุธุงู ุงููุตุงุฏูุฉ ูุงูุชูููุถ ุงููุชูุฏู
- **JWT Authentication** ูุน ุฃุฏูุงุฑ ูุชุนุฏุฏุฉ
- **Admin Panel** ูุงูู ูุฅุฏุงุฑุฉ ุงููุธุงู
- **ุฃุฏูุงุฑ ุงููุณุชุฎุฏููู**: Admin, SuperAdmin, User
- **ุญูุงูุฉ ูููุงุช ุงููุฑูุฑ** ุจู SHA256
- **ุฅุฏุงุฑุฉ ุฌูุณุงุช ุงููุณุชุฎุฏููู** ูููู ุงูุญุณุงุจุงุช

### ๐ณ ูุธุงู ุงูุฏูุน ูุงูุงุดุชุฑุงูุงุช ุงูุดุงูู
- **ุฎุทุท ุงุดุชุฑุงู ูุชุนุฏุฏุฉ** ูุงุจูุฉ ููุชุฎุตูุต
- **ูุนุงูุฌุฉ ุงููุฏููุนุงุช** ุงูุชููุงุฆูุฉ
- **ุฅูุดุงุก ุงูููุงุชูุฑ** ุชููุงุฆูุงู
- **ุชุชุจุน ุชุงุฑูุฎ ุงููุฏููุนุงุช** ูุงูุงุดุชุฑุงูุงุช
- **ุชุฌุฏูุฏ ุชููุงุฆู** ููุงุดุชุฑุงูุงุช

### ๐ ููุญุฉ ุฅุฏุงุฑุฉ ูุชูุฏูุฉ
- **ุฅุฏุงุฑุฉ ุดุงููุฉ ูููุณุชุฎุฏููู** ูุน ุชุญุฏูุซ ุงูุญุงูุงุช
- **ุฅุญุตุงุฆูุงุช ููุตูุฉ** ููุฌูู
- **ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช ูุงููุฏููุนุงุช**
- **ุฅุฏุงุฑุฉ ุงูุชูุงุฑูู ูุจุฑุงูุฌ ุงูุชุฏุฑูุจ**
- **ุชูุงุฑูุฑ ูุงููุฉ** ูุฅุญุตุงุฆูุงุช ุงูุญุถูุฑ

### ๐ฑ ูุธุงู ุงูุญุถูุฑ ูุงููุตูู
- **ุชุณุฌูู ุฏุฎูู ูุฎุฑูุฌ** ุงููุณุชุฎุฏููู
- **ุฅุฏุงุฑุฉ ูุตูู ุงูุฌูู** ูุงูุฌุฏุงูู ุงูุฒูููุฉ
- **ุญุฌุฒ ุงููุตูู** ูุฅูุบุงุก ุงูุญุฌูุฒุงุช
- **ุชุชุจุน ุงูุญุถูุฑ** ูุงูุฅุญุตุงุฆูุงุช
- **ุฅุฏุงุฑุฉ ุงููุฏุฑุจูู** ูุงููุตูู

### ๐ ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงููุชุทูุฑ
- **ุฅุฑุณุงู ุฅุดุนุงุฑุงุช** ูููุณุชุฎุฏููู ูุงููุฏูุฑูู
- **ููุงูุจ ุฅุดุนุงุฑุงุช** ูุงุจูุฉ ููุชุฎุตูุต
- **ุฏุนู ูุชุนุฏุฏ ุงููุบุงุช** ููุฅุดุนุงุฑุงุช
- **ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ** ููุงุดุชุฑุงูุงุช ูุงููุฏููุนุงุช

### ๐ฅ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ุงููุญุณูุฉ
- **ูููุงุช ุดุฎุตูุฉ ุดุงููุฉ** ูุน ุงูุตูุฑ
- **ุฅุฏุงุฑุฉ ุญุงูุฉ ุงููุณุชุฎุฏููู** (Active, Inactive, Suspended)
- **ุชุชุจุน ูุญุงููุงุช ุชุณุฌูู ุงูุฏุฎูู**
- **ุฃุฑูุงู ุนุถููุฉ** ูุฑูุฏุฉ
- **ุชูุถููุงุช ุงููุบุฉ** ูููุณุชุฎุฏููู

## ุงูููุงูุงุช ุงูุฌุฏูุฏุฉ

### Admin (ุงููุฏูุฑูู)
```csharp
public class Admin : BaseEntity
{
    public string FirstName { get; set; }
    public string LastName { get; set; }
    public string Email { get; set; }
    public string PasswordHash { get; set; }
    public AdminRole Role { get; set; }
    public bool IsActive { get; set; }
    public DateTime? LastLoginAt { get; set; }
}
```

### Subscription (ุงูุงุดุชุฑุงูุงุช)
```csharp
public class SubscriptionPlan : BaseEntity
{
    public string Name { get; set; }
    public string Description { get; set; }
    public decimal Price { get; set; }
    public int DurationDays { get; set; }
    public bool IsActive { get; set; }
}

public class UserSubscription : BaseEntity
{
    public Guid UserId { get; set; }
    public Guid SubscriptionPlanId { get; set; }
    public DateTime StartDate { get; set; }
    public DateTime EndDate { get; set; }
    public SubscriptionStatus Status { get; set; }
    public bool AutoRenew { get; set; }
}
```

### Payment (ุงููุฏููุนุงุช)
```csharp
public class Payment : BaseEntity
{
    public Guid UserId { get; set; }
    public decimal Amount { get; set; }
    public string Currency { get; set; }
    public PaymentMethod PaymentMethod { get; set; }
    public PaymentStatus Status { get; set; }
    public DateTime? PaymentDate { get; set; }
    public string? TransactionId { get; set; }
}

public class Invoice : BaseEntity
{
    public Guid UserId { get; set; }
    public Guid PaymentId { get; set; }
    public string InvoiceNumber { get; set; }
    public decimal Amount { get; set; }
    public decimal TaxAmount { get; set; }
    public decimal TotalAmount { get; set; }
    public InvoiceStatus Status { get; set; }
}
```

### Attendance (ุงูุญุถูุฑ)
```csharp
public class AttendanceRecord : BaseEntity
{
    public Guid UserId { get; set; }
    public DateTime CheckInTime { get; set; }
    public DateTime? CheckOutTime { get; set; }
    public int? DurationMinutes { get; set; }
    public ActivityType ActivityType { get; set; }
}

public class GymClass : BaseEntity
{
    public string Name { get; set; }
    public string Description { get; set; }
    public Guid? InstructorId { get; set; }
    public int MaxCapacity { get; set; }
    public bool IsActive { get; set; }
}
```

## API Endpoints ุงูุฌุฏูุฏุฉ

### Admin Management
```
POST /api/admin/register          - ุชุณุฌูู ูุฏูุฑ ุฌุฏูุฏ
POST /api/admin/login             - ุชุณุฌูู ุฏุฎูู ุงููุฏูุฑ
GET  /api/admin                   - ุฌููุน ุงููุฏูุฑูู
PUT  /api/admin/{id}              - ุชุญุฏูุซ ูุฏูุฑ
DELETE /api/admin/{id}            - ุญุฐู ูุฏูุฑ
PUT  /api/admin/{id}/change-password - ุชุบููุฑ ูููุฉ ุงููุฑูุฑ
```

### Subscription Management
```
GET  /api/subscriptions/plans     - ุฌููุน ุฎุทุท ุงูุงุดุชุฑุงู
POST /api/subscriptions/plans     - ุฅูุดุงุก ุฎุทุฉ ุงุดุชุฑุงู
PUT  /api/subscriptions/plans/{id} - ุชุญุฏูุซ ุฎุทุฉ ุงุดุชุฑุงู
POST /api/subscriptions/users/{userId}/assign - ุชุฎุตูุต ุงุดุชุฑุงู
GET  /api/subscriptions/users/{userId} - ุงุดุชุฑุงูุงุช ุงููุณุชุฎุฏู
PUT  /api/subscriptions/users/{id}/extend - ุชูุฏูุฏ ุงุดุชุฑุงู
PUT  /api/subscriptions/users/{id}/cancel - ุฅูุบุงุก ุงุดุชุฑุงู
```

### Payment Management
```
POST /api/payments/process        - ูุนุงูุฌุฉ ุฏูุนุฉ
GET  /api/payments/{id}           - ุชูุงุตูู ุฏูุนุฉ
GET  /api/payments/user/{userId}  - ูุฏููุนุงุช ุงููุณุชุฎุฏู
GET  /api/payments/{paymentId}/invoice - ูุงุชูุฑุฉ ุงูุฏูุนุฉ
GET  /api/payments/user/{userId}/invoices - ููุงุชูุฑ ุงููุณุชุฎุฏู
```

### Attendance Management
```
POST /api/attendance/check-in     - ุชุณุฌูู ุฏุฎูู
PUT  /api/attendance/check-out/{recordId} - ุชุณุฌูู ุฎุฑูุฌ
GET  /api/attendance/user/{userId} - ุณุฌูุงุช ุญุถูุฑ ุงููุณุชุฎุฏู
GET  /api/attendance/classes      - ุฌููุน ูุตูู ุงูุฌูู
POST /api/attendance/classes      - ุฅูุดุงุก ูุตู ุฌุฏูุฏ
POST /api/attendance/classes/book/{scheduleId} - ุญุฌุฒ ูุตู
DELETE /api/attendance/classes/book/{bookingId} - ุฅูุบุงุก ุญุฌุฒ
```

### Notification Management
```
POST /api/notifications           - ุฅุฑุณุงู ุฅุดุนุงุฑ
GET  /api/notifications/user/{userId} - ุฅุดุนุงุฑุงุช ุงููุณุชุฎุฏู
PUT  /api/notifications/{id}/read - ุชุญุฏูุฏ ุงูุฅุดุนุงุฑ ูููุฑูุก
POST /api/notifications/templates - ุฅูุดุงุก ูุงูุจ ุฅุดุนุงุฑ
GET  /api/notifications/templates - ุฌููุน ููุงูุจ ุงูุฅุดุนุงุฑุงุช
```

## ุงูุฃูุงู ุงููุญุณู

### JWT Configuration
```json
{
  "Jwt": {
    "Key": "ThisIsASecretKeyForJWTTokenGenerationThatShouldBeAtLeast32Characters",
    "Issuer": "WorkoutAPI",
    "Audience": "WorkoutAPIUsers"
  }
}
```

### Authorization Policies
```csharp
services.AddAuthorization(options =>
{
    options.AddPolicy("AdminOnly", policy => policy.RequireRole("Admin", "SuperAdmin"));
    options.AddPolicy("UserOnly", policy => policy.RequireRole("User"));
});
```

## ููุฒุงุช ุงูุฃูุงู ุงูุฌุฏูุฏุฉ

- **ุชุดููุฑ ูููุงุช ุงููุฑูุฑ** ุจู SHA256
- **JWT Tokens** ูุน ุงูุชูุงุก ุตูุงุญูุฉ
- **ุชูููุถ ูุงุฆู ุนูู ุงูุฃุฏูุงุฑ**
- **ุญูุงูุฉ ูู ูุญุงููุงุช ุชุณุฌูู ุงูุฏุฎูู ุงููุชูุฑุฑุฉ**
- **ููู ุงูุญุณุงุจุงุช** ุจุนุฏ ูุญุงููุงุช ูุงุดูุฉ
- **CORS ูููุนู** ููุชุทููุฑ

## ุงูุชุดุบูู ุงูุณุฑูุน

1. **ุงุณุชูุณุงุฎ ุงููุดุฑูุน**
```bash
git clone <repository-url>
cd enhanced_workout_api
```

2. **ุงุณุชุนุงุฏุฉ ุงูุญุฒู**
```bash
dotnet restore
```

3. **ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช**
```bash
cd src/WorkoutAPI.Api
dotnet ef database update
```

4. **ุชุดุบูู ุงูุชุทุจูู**
```bash
dotnet run
```

5. **ุงููุตูู ููุชุทุจูู**
- API: `http://localhost:5000`
- Swagger UI: `http://localhost:5000`

## ุจูุงูุงุช ุชุฌุฑูุจูุฉ

ุณูุชู ุฅูุดุงุก ุจูุงูุงุช ุชุฌุฑูุจูุฉ ุชููุงุฆูุงู ุชุชุถูู:
- ูุฏูุฑ ุงูุชุฑุงุถู: `admin@gym.com` / `admin123`
- ุฎุทุท ุงุดุชุฑุงู ูุชููุนุฉ
- ุชูุงุฑูู ุจุงููุบุชูู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- ุจุฑุงูุฌ ุชุฏุฑูุจ ุฌุงูุฒุฉ

## ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุชุทููุฑ Frontend** ุจู React
2. **ุฅุถุงูุฉ ุชูุงุฑูุฑ ูุชูุฏูุฉ**
3. **ุชูุงูู ูุน ุจูุงุจุงุช ุฏูุน ุญููููุฉ**
4. **ุชุทุจูู ููุจุงูู**
5. **ูุธุงู ุฅุดุนุงุฑุงุช push**

## ุงููุณุงููุฉ ูุงูุฏุนู

ูููุณุงููุฉ ูู ุชุทููุฑ ุงููุธุงู ุฃู ุงูุญุตูู ุนูู ุงูุฏุนู:
1. ุฅูุดุงุก Issue ูููุดุงูู ุฃู ุงูุงูุชุฑุงุญุงุช
2. Fork ุงููุดุฑูุน ูููุณุงููุฉ
3. ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ

---

**ููุงุญุธุฉ**: ูุฐุง ุงููุธุงู ุงููุญุฏุซ ูููุฑ ุญูุงู ุดุงููุงู ูุฅุฏุงุฑุฉ ุงูุฌูู ูุน ุฌููุน ุงูููุฒุงุช ุงููุทููุจุฉ ููุฅุฏุงุฑุฉ ุงููุนุงูุฉ ูุงููุฑุจุญุฉ ููุฌูู.

